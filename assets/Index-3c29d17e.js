import{e as T,i as H,m as R,u as G,c as u,a as J,s as K,_ as Q,b as X,d as Y,f as Z,g as ee,r as p,h as ne,o as te,j as m,k as d,l as h,n,p as a,q as g,t as l,w as y,v as ae,F as oe,x as W,y as $,z as se,A as le}from"./index-fff95885.js";import{_ as x,A as ce,g as ie,f as re}from"./ApproveTypeTab-c63f4231.js";let B;const de={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let ue=T({},de);function pe(){({instance:B}=R({setup(){const{state:e,toggle:_}=G();return()=>u(K,J(e,{"onUpdate:show":_}),null)}}))}function ve(c){return H?new Promise((e,_)=>{B||pe(),B.open(T({},ue,c,{callback:f=>{(f==="confirm"?e:_)(f)}}))}):Promise.resolve()}const _e=c=>ve(T({showCancelButton:!0},c)),me="/assets/images/bg.png";const F=c=>(se("data-v-0a43ccc2"),c=c(),le(),c),fe={class:"body"},he={class:""},ge={class:"tools-bar"},ye={class:"address-text"},we={style:{"margin-left":"4px"}},ke={class:"tools"},Ce=F(()=>n("div",{class:"banner"},[n("img",{src:me})],-1)),be={class:"tabs"},xe={class:"approve-check"},Be=F(()=>n("div",{class:"chain-name"},"BSC",-1)),Te={key:0,class:"error-message"},Ie={class:"check-btn"},Se={class:"bottom"},Ae={class:"content"},Le={__name:"Index",setup(c){const e=X(),_=Y(),f=Z("global"),{t:s}=ee(),w=p(!1),D=ne(()=>[{name:s("languages.zh-cn"),value:"zh-cn",color:e.language==="zh-cn"?"#9505F9":"#323233"},{name:s("languages.en"),value:"en",color:e.language==="en"?"#9505F9":"#323233"}]);p(!1);const I=p(!1),v=p(""),k=p(!1);function S(t){const o=f.cfg.allowChainList.find(b=>b.chainId==t);let i;return o?i=o.chain:i=null,i}async function A(){await e.connectWallet(),await checkAllowance()}function N(){_e({title:s("tips"),message:s("disonnectWallet"),confirmButtonText:s("confirm"),cancelButtonText:s("cancel")}).then(()=>{e.disconnectWallet()}).catch(()=>{})}function P(t){e.setLanguage(t.value)}function V(){console.log(e.approveType),e.approveType==1&&W("即将上线，敬请期待")}function O(t){return console.log(t),t&&t.trim()}function U(){}function z(){k.value=!1;const t=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;if(!t.test(v.value)){console.log(t.test(v.value)),k.value=!0;return}j(56,v.value.toLowerCase())}const C=p(!1),E=p([]);async function j(t,o){if(e.approveType==0){E.value=[],C.value=!0;try{await e.getApprovalList(t,o),_.push(`/check/${t}/${o}`)}catch(i){console.log(i)}finally{C.value=!1}}else W("即将上线，敬请期待")}return te(()=>{v.value=e.walletAddress}),(t,o)=>{const i=m("van-icon"),b=m("van-field"),L=m("van-button"),M=m("van-dialog"),q=m("van-action-sheet");return d(),h(oe,null,[n("div",fe,[n("div",he,[n("div",ge,[a(e).isConnectWallet?(d(),h("div",{key:0,class:"address",onClick:N},[S(a(e).chainId)?(d(),g(i,{key:0,class:"chain-icon",name:a(ie)(S(a(e).chainId))},null,8,["name"])):(d(),g(x,{key:1,class:"chain-icon",name:"wallet"})),n("div",ye,l(a(re)(a(e).walletAddress)),1)])):(d(),h("div",{key:1,class:"address",onClick:A},[u(x,{name:"wallet"}),n("div",we,l(t.$t("pleaseConnectWallet")),1)])),n("div",ke,[u(x,{name:"language",onClick:o[0]||(o[0]=r=>w.value=!0)})])]),Ce,n("div",be,[u(ce,{type:a(e).approveType,"onUpdate:type":o[1]||(o[1]=r=>a(e).approveType=r),onSelectType:V},null,8,["type"])]),n("div",xe,[u(b,{class:"input",modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=r=>v.value=r),formatter:O,center:"",clearable:"",placeholder:a(s)("enterContractAddress")},{label:y(()=>[n("div",{class:"chain",onClick:U},[u(i,{class:"chain-icon",name:"https://ave.s3.ap-east-1.amazonaws.com/chain/bsc.png"}),Be])]),_:1},8,["modelValue","placeholder"]),k.value?(d(),h("div",Te,l(a(s)("enterCorrectAddress")),1)):ae("",!0),n("div",Ie,[a(e).isConnectWallet?(d(),g(L,{key:0,class:"btn",type:"primary",onClick:z,loading:C.value,"loading-type":"spinner","loading-text":a(s)("checking")},{default:y(()=>[$(l(a(s)("check")),1)]),_:1},8,["loading","loading-text"])):(d(),g(L,{key:1,class:"btn",type:"primary",onClick:A},{default:y(()=>[$(l(a(s)("connectWallet")),1)]),_:1}))])])]),n("div",Se,[n("div",null,l(a(s)("explain")),1),n("div",null,l(a(s)("line1")),1),n("div",null,l(a(s)("line2")),1),n("div",null,l(a(s)("line3")),1),n("div",null,l(a(s)("line4")),1)])]),u(M,{class:"address-err-dialog",confirmButtonText:t.$t("understand"),confirmButtonColor:"#3F80F7",show:I.value,"onUpdate:show":o[3]||(o[3]=r=>I.value=r)},{default:y(()=>[n("div",Ae,[n("div",null,l(t.$t("notSupportedChain")),1)])]),_:1},8,["confirmButtonText","show"]),u(q,{show:w.value,"onUpdate:show":o[4]||(o[4]=r=>w.value=r),title:t.$t("switchLang"),actions:a(D),closeable:!1,"cancel-text":t.$t("cancel"),"close-on-click-action":"",onSelect:P},null,8,["show","title","actions","cancel-text"])],64)}}},Fe=Q(Le,[["__scopeId","data-v-0a43ccc2"]]);export{Fe as default};
