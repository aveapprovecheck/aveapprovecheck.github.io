import{e as S,i as Z,m as ee,u as ne,c,a as te,s as se,_ as F,b as N,d as M,r as _,f as k,o as i,g as p,h as e,w as B,j as n,t as l,F as L,k as oe,n as ae,l as D,p as le,q as ce,v as ie,x as re,y as x,z as W,A as P,B as ue,C as de}from"./index-6a32e1a6.js";import{_ as h,f as U,s as pe,A as _e,g as me}from"./ApproveTypeTab-5fea7cf3.js";let I;const ve={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let fe=S({},ve);function he(){({instance:I}=ee({setup(){const{state:t,toggle:d}=ne();return()=>c(se,te(t,{"onUpdate:show":d}),null)}}))}function ye(u){return Z?new Promise((t,d)=>{I||he(),I.open(S({},fe,u,{callback:y=>{(y==="confirm"?t:d)(y)}}))}):Promise.resolve()}const ge=u=>ye(S({showCancelButton:!0},u)),ke="/assets/images/bg.png";const we={class:"left"},Ce={key:0,class:"address"},Be={class:"address-text"},xe={key:1,class:"address"},be={style:{"margin-left":"4px"}},Te={class:"dapp-list"},$e=["onClick"],Le={class:"name"},Ie={key:0,class:"tips"},Se={__name:"Menu",props:{dappList:{type:Array,default:[]}},setup(u){const t=u,{t:d}=N(),y=M(),o=_(!1);function w(C){if(!C){pe(d("menuComingSoon"));return}window.open(C)}return(C,g)=>{const m=k("van-popup");return i(),p(L,null,[e("div",{onClick:g[0]||(g[0]=r=>o.value=!0)},[c(h,{class:"icon",name:"menu"})]),c(m,{show:o.value,"onUpdate:show":g[1]||(g[1]=r=>o.value=r),position:"left",style:{width:"48%",height:"100%"},class:"menu"},{default:B(()=>[e("div",we,[c(h,{class:"icon",name:"menu"}),n(y).isConnectWallet?(i(),p("div",Ce,[c(h,{class:"chain-icon",name:"wallet"}),e("div",Be,l(n(U)(n(y).walletAddress)),1)])):(i(),p("div",xe,[c(h,{name:"wallet"}),e("div",be,l(n(d)("menuNoConnet")),1)]))]),e("ul",Te,[(i(!0),p(L,null,oe(t.dappList,r=>(i(),p("li",{class:ae(["dapp-list-item",r.selected?"dapp-list-item-selected":""]),onClick:b=>w(r.url)},[c(h,{class:"svg-icon",name:r.iconGrey},null,8,["name"]),e("div",Le,l(n(d)(r.name)),1),r.url?D("",!0):(i(),p("div",Ie,l(n(d)("menuComingSoon")),1))],10,$e))),256))])]),_:1},8,["show"])],64)}}},Ae=F(Se,[["__scopeId","data-v-82f0cc0a"]]),z=[{name:"menuCreateToken",iconBlue:"createTokenBlue",iconGrey:"createTokenGrey",url:"https://m.avetokenmaker.xyz/"},{name:"menuPresell",iconBlue:"presaleBlue",iconGrey:"presaleGrey",url:""},{name:"menuLiquidity",iconBlue:"liquidityBlue",iconGrey:"liquidityGrey",url:"https://m.jfliquidity.xyz/add?utm_source=ave.ai"},{name:"menuLock",iconBlue:"lockBlue",iconGrey:"lockGrey",url:"https://m.avelock.xyz/"},{name:"menuMultitransfer",iconBlue:"multitransferBlue",iconGrey:"multitransferGrey",url:"https://m.avemultitransfer.online/"},{name:"menuRedPacket",iconBlue:"redPacketBlue",iconGrey:"redPacketGrey",url:"https://www.averedpocket.xyz/"},{name:"menuApprove",iconBlue:"approveBlue",iconGrey:"approveGrey",url:"https://aveapprovecheck.cloud/"}];const V=u=>(ue("data-v-21fa3d88"),u=u(),de(),u),Ge={class:"body"},We={class:""},Pe={class:"tools-bar"},ze={class:"left"},Fe={class:"address-text"},Ne={style:{"margin-left":"4px"}},Me={class:"tools"},De=V(()=>e("div",{class:"banner"},[e("img",{src:ke})],-1)),Ue={class:"tabs"},Ve={class:"approve-check"},Oe=V(()=>e("div",{class:"chain-name"},"BSC",-1)),qe={key:0,class:"error-message"},Ee={class:"check-btn"},je={class:"bottom"},Re={class:"content"},He={__name:"Index",setup(u){const t=M(),d=le(),y=ce("global"),{t:o}=N(),w=_(!1),C=ie(()=>[{name:o("languages.zh-cn"),value:"zh-cn",color:t.language==="zh-cn"?"#9505F9":"#323233"},{name:o("languages.en"),value:"en",color:t.language==="en"?"#9505F9":"#323233"}]);_(!1);const g=_(!1),m=_(""),r=_(!1);function b(s){const a=y.cfg.allowChainList.find($=>$.chainId==s);let v;return a?v=a.chain:v=null,v}async function A(){await t.connectWallet()}function O(){ge({title:o("tips"),message:o("disonnectWallet"),confirmButtonText:o("confirm"),cancelButtonText:o("cancel")}).then(()=>{t.disconnectWallet()}).catch(()=>{})}function q(s){t.setLanguage(s.value)}function E(){console.log(t.approveType),t.approveType==1&&W("即将上线，敬请期待")}function j(s){return console.log(s),s&&s.trim()}function R(){}function H(){r.value=!1;const s=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;if(!s.test(m.value)){console.log(s.test(m.value)),r.value=!0;return}K(56,m.value.toLowerCase())}const T=_(!1),J=_([]);async function K(s,a){if(t.approveType==0){J.value=[],T.value=!0;try{await t.getApprovalList(s,a),d.push(`/check/${s}/${a}`)}catch(v){console.log(v)}finally{T.value=!1}}else W("即将上线，敬请期待")}z.forEach(s=>s.selected=s.name=="menuApprove");const Q=_(z);return re(()=>{m.value=t.walletAddress}),(s,a)=>{const v=k("van-icon"),$=k("van-field"),G=k("van-button"),X=k("van-dialog"),Y=k("van-action-sheet");return i(),p(L,null,[e("div",Ge,[e("div",We,[e("div",Pe,[e("div",ze,[c(Ae,{"dapp-list":Q.value},null,8,["dapp-list"]),n(t).isConnectWallet?(i(),p("div",{key:0,class:"address",onClick:O},[b(n(t).chainId)?(i(),x(v,{key:0,class:"chain-icon",name:n(me)(b(n(t).chainId))},null,8,["name"])):(i(),x(h,{key:1,class:"chain-icon",name:"wallet"})),e("div",Fe,l(n(U)(n(t).walletAddress)),1)])):(i(),p("div",{key:1,class:"address",onClick:A},[c(h,{name:"wallet"}),e("div",Ne,l(s.$t("pleaseConnectWallet")),1)]))]),e("div",Me,[c(h,{name:"language",onClick:a[0]||(a[0]=f=>w.value=!0)})])]),De,e("div",Ue,[c(_e,{type:n(t).approveType,"onUpdate:type":a[1]||(a[1]=f=>n(t).approveType=f),onSelectType:E},null,8,["type"])]),e("div",Ve,[c($,{class:"input",modelValue:m.value,"onUpdate:modelValue":a[2]||(a[2]=f=>m.value=f),formatter:j,center:"",clearable:"",placeholder:n(o)("enterContractAddress")},{label:B(()=>[e("div",{class:"chain",onClick:R},[c(v,{class:"chain-icon",name:"https://ave.s3.ap-east-1.amazonaws.com/chain/bsc.png"}),Oe])]),_:1},8,["modelValue","placeholder"]),r.value?(i(),p("div",qe,l(n(o)("enterCorrectAddress")),1)):D("",!0),e("div",Ee,[n(t).isConnectWallet?(i(),x(G,{key:0,class:"btn",type:"primary",onClick:H,loading:T.value,"loading-type":"spinner","loading-text":n(o)("checking")},{default:B(()=>[P(l(n(o)("check")),1)]),_:1},8,["loading","loading-text"])):(i(),x(G,{key:1,class:"btn",type:"primary",onClick:A},{default:B(()=>[P(l(n(o)("connectWallet")),1)]),_:1}))])])]),e("div",je,[e("div",null,l(n(o)("explain")),1),e("div",null,l(n(o)("line1")),1),e("div",null,l(n(o)("line2")),1),e("div",null,l(n(o)("line3")),1),e("div",null,l(n(o)("line4")),1)])]),c(X,{class:"address-err-dialog",confirmButtonText:s.$t("understand"),confirmButtonColor:"#3F80F7",show:g.value,"onUpdate:show":a[3]||(a[3]=f=>g.value=f)},{default:B(()=>[e("div",Re,[e("div",null,l(s.$t("notSupportedChain")),1)])]),_:1},8,["confirmButtonText","show"]),c(Y,{show:w.value,"onUpdate:show":a[4]||(a[4]=f=>w.value=f),title:s.$t("switchLang"),actions:n(C),closeable:!1,"cancel-text":s.$t("cancel"),"close-on-click-action":"",onSelect:q},null,8,["show","title","actions","cancel-text"])],64)}}},Qe=F(He,[["__scopeId","data-v-21fa3d88"]]);export{Qe as default};
