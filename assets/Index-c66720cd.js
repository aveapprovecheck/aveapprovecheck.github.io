import{e as T,i as H,m as R,u as G,c as u,a as J,s as K,_ as Q,b as X,d as Y,f as Z,g as ee,r as p,h as ne,o as te,j as _,k as d,l as h,n,p as o,q as g,t as l,w as y,v as oe,F as ae,x as W,y as $,z as se,A as le}from"./index-aff7743d.js";import{_ as x,A as ce,g as ie,f as re}from"./ApproveTypeTab-a9e2650d.js";let B;const de={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let ue=T({},de);function pe(){({instance:B}=R({setup(){const{state:e,toggle:f}=G();return()=>u(K,J(e,{"onUpdate:show":f}),null)}}))}function ve(c){return H?new Promise((e,f)=>{B||pe(),B.open(T({},ue,c,{callback:m=>{(m==="confirm"?e:f)(m)}}))}):Promise.resolve()}const fe=c=>ve(T({showCancelButton:!0},c)),_e="/assets/images/bg.png";const F=c=>(se("data-v-3f5f9334"),c=c(),le(),c),me={class:"body"},he={class:""},ge={class:"tools-bar"},ye={class:"address-text"},we={style:{"margin-left":"4px"}},Ce={class:"tools"},ke=F(()=>n("div",{class:"banner"},[n("img",{src:_e})],-1)),be={class:"tabs"},xe={class:"approve-check"},Be=F(()=>n("div",{class:"chain-name"},"BSC",-1)),Te={key:0,class:"error-message"},Ie={class:"check-btn"},Se={class:"bottom"},Ae={class:"content"},Le={__name:"Index",setup(c){const e=X(),f=Y(),m=Z("global"),{t:s}=ee(),w=p(!1),D=ne(()=>[{name:s("languages.zh-cn"),value:"zh-cn",color:e.language==="zh-cn"?"#9505F9":"#323233"},{name:s("languages.en"),value:"en",color:e.language==="en"?"#9505F9":"#323233"}]);p(!1);const I=p(!1),v=p(""),C=p(!1);function S(t){const a=m.cfg.allowChainList.find(b=>b.chainId==t);let i;return a?i=a.chain:i=null,i}async function A(){await e.connectWallet()}function N(){fe({title:s("tips"),message:s("disonnectWallet"),confirmButtonText:s("confirm"),cancelButtonText:s("cancel")}).then(()=>{e.disconnectWallet()}).catch(()=>{})}function P(t){e.setLanguage(t.value)}function V(){console.log(e.approveType),e.approveType==1&&W("即将上线，敬请期待")}function O(t){return console.log(t),t&&t.trim()}function U(){}function z(){C.value=!1;const t=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;if(!t.test(v.value)){console.log(t.test(v.value)),C.value=!0;return}j(56,v.value.toLowerCase())}const k=p(!1),E=p([]);async function j(t,a){if(e.approveType==0){E.value=[],k.value=!0;try{await e.getApprovalList(t,a),f.push(`/check/${t}/${a}`)}catch(i){console.log(i)}finally{k.value=!1}}else W("即将上线，敬请期待")}return te(()=>{v.value=e.walletAddress}),(t,a)=>{const i=_("van-icon"),b=_("van-field"),L=_("van-button"),M=_("van-dialog"),q=_("van-action-sheet");return d(),h(ae,null,[n("div",me,[n("div",he,[n("div",ge,[o(e).isConnectWallet?(d(),h("div",{key:0,class:"address",onClick:N},[S(o(e).chainId)?(d(),g(i,{key:0,class:"chain-icon",name:o(ie)(S(o(e).chainId))},null,8,["name"])):(d(),g(x,{key:1,class:"chain-icon",name:"wallet"})),n("div",ye,l(o(re)(o(e).walletAddress)),1)])):(d(),h("div",{key:1,class:"address",onClick:A},[u(x,{name:"wallet"}),n("div",we,l(t.$t("pleaseConnectWallet")),1)])),n("div",Ce,[u(x,{name:"language",onClick:a[0]||(a[0]=r=>w.value=!0)})])]),ke,n("div",be,[u(ce,{type:o(e).approveType,"onUpdate:type":a[1]||(a[1]=r=>o(e).approveType=r),onSelectType:V},null,8,["type"])]),n("div",xe,[u(b,{class:"input",modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=r=>v.value=r),formatter:O,center:"",clearable:"",placeholder:o(s)("enterContractAddress")},{label:y(()=>[n("div",{class:"chain",onClick:U},[u(i,{class:"chain-icon",name:"https://ave.s3.ap-east-1.amazonaws.com/chain/bsc.png"}),Be])]),_:1},8,["modelValue","placeholder"]),C.value?(d(),h("div",Te,l(o(s)("enterCorrectAddress")),1)):oe("",!0),n("div",Ie,[o(e).isConnectWallet?(d(),g(L,{key:0,class:"btn",type:"primary",onClick:z,loading:k.value,"loading-type":"spinner","loading-text":o(s)("checking")},{default:y(()=>[$(l(o(s)("check")),1)]),_:1},8,["loading","loading-text"])):(d(),g(L,{key:1,class:"btn",type:"primary",onClick:A},{default:y(()=>[$(l(o(s)("connectWallet")),1)]),_:1}))])])]),n("div",Se,[n("div",null,l(o(s)("explain")),1),n("div",null,l(o(s)("line1")),1),n("div",null,l(o(s)("line2")),1),n("div",null,l(o(s)("line3")),1),n("div",null,l(o(s)("line4")),1)])]),u(M,{class:"address-err-dialog",confirmButtonText:t.$t("understand"),confirmButtonColor:"#3F80F7",show:I.value,"onUpdate:show":a[3]||(a[3]=r=>I.value=r)},{default:y(()=>[n("div",Ae,[n("div",null,l(t.$t("notSupportedChain")),1)])]),_:1},8,["confirmButtonText","show"]),u(q,{show:w.value,"onUpdate:show":a[4]||(a[4]=r=>w.value=r),title:t.$t("switchLang"),actions:o(D),closeable:!1,"cancel-text":t.$t("cancel"),"close-on-click-action":"",onSelect:P},null,8,["show","title","actions","cancel-text"])],64)}}},Fe=Q(Le,[["__scopeId","data-v-3f5f9334"]]);export{Fe as default};
